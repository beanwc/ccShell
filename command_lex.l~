%{
int _numargs = 100;
char *_args[100];
int _argcount = 0;
%}

WORD    [a-zA-Z0-9\/\.-]+  
SPECIAL	[()><|&;!*]
WORD2   \"([ ,a-zA-Z0-9\/\.-]+,)*[ a-zA-Z0-9\/\.-]+\"

%%
	_argcount = 0;
	_args[0] = NULL;

{WORD2}|{WORD}|{SPECIAL} {
	  if(_argcount < _numargs-1) {
	    _args[_argcount++] = (char *)strdup(yytext);
	    _args[_argcount] = NULL;
	  }
	} 

\n	return (int)_args;

[ \t]+

.

%%

char **get_command_arg(char * command_line) {
yy_scan_string(command_line);
printf("In lex :\n");
printf("%s\n", command_line);
yylex();

  return _args;
}
